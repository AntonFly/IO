 Лабораторная работа 1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** Получить знания и навыки разработки драйверов символьных устройств для операционной системы Linux.

**Выполнили:** Авраменко Антон Дмитриевич PЗ400, Толстов Даниил Дмитриевич P3400

## Описание функциональности драйвера

Драйвер создает:
* Одно символьное устройство с файлом `/dev/var1` с правами *0666*
* Файл-интерфейс для устройства `/proc/var1` с правами *0777*

Драйвер выполняет функции:
- При записи текста в файл символьного устройства запоминается **количество введенных символов**.
- При чтении файла-интерфейса `/proc/var1` в консоль выводится последовательность полученных результатов с момента загрузки модуля.
- При чтении файла символьного устройства в кольцевой буфер ядра выводится последовательность результатов с момента загрузки модуля.
- В остальных случаях выводится ошибка в кольцевой буфер.

## Инструкция по сборке

1. Перейдите в директорию `report-skeleton/lab1`
2. `make`

## Примеры использования

Инициализация и деинициализация драйвера:
```bash
$ sudo insmod var1.ko && dmesg
...
[VAR1 (511 0)]: initialized

$ sudo rmmod var5 && dmesg
...
[VAR1 (511 0)]: exit
```

Проверка прав символьного устройства
```bash
$ ls -la /dev/var1
crw-rw-rw- 1 root root 511, 0 фев 21 11:16 var1
```

Примеры использования символьного устройства
```bash
$ echo "Hello World 5" > /dev/var1 && cat /proc/var1
[VAR5]: 13
$ echo "1Some msg" > /dev/var1 && cat /dev/var1
[VAR5]: 13 9
```

Пример вывода сообщения в кольцевой буфер
```bash
$ echo "Hello World" > /dev/var1 && dmesg
[VAR5]: 13 9 11
```
